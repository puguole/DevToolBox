<!-- 正则表达式测试工具 -->
<div id="regex" class="tool-section" style="display: none;">
    <div class="tool-header">
        <h2 style="font-size: 1.25rem; font-weight: 700; display: flex; align-items: center;">
            <i class="fa fa-hashtag" style="color: var(--primary); margin-right: 0.5rem;"></i>
            <span data-i18n="regex-tester">正则表达式</span>
        </h2>
        <p style="color: #6b7280; font-size: 0.875rem; margin-top: 0.25rem;" data-i18n="regex-desc">实时测试正则表达式，高亮显示匹配结果，支持常用正则库</p>
    </div>

    <div class="tool-content">
        <!-- 正则表达式输入 -->
        <div style="margin-bottom: 1.5rem;">
            <label style="display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 0.5rem;" data-i18n="regex-pattern">正则表达式</label>
            <div style="display: flex; gap: 0.5rem;">
                <span style="padding: 0.5rem; background-color: #f3f4f6; border: 1px solid #d1d5db; border-radius: 0.375rem 0 0 0.375rem; font-family: monospace; font-size: 0.875rem; color: #6b7280;">/</span>
                <input type="text" id="regex-pattern" class="form-input" placeholder="例如: ^\d{3}-\d{2}-\d{4}$" style="flex: 1; border-radius: 0; border-left: none;">
                <span style="padding: 0.5rem; background-color: #f3f4f6; border: 1px solid #d1d5db; border-radius: 0 0.375rem 0.375rem 0; font-family: monospace; font-size: 0.875rem; color: #6b7280;">/</span>
            </div>
            <div style="margin-top: 0.5rem; font-size: 0.75rem; color: #6b7280;" id="regex-status">
                <i class="fa fa-info-circle" style="margin-right: 0.25rem;"></i>
                <span data-i18n="enter-regex-hint">请输入正则表达式</span>
            </div>
        </div>

        <!-- 标志选项 -->
        <div style="background-color: #f9fafb; border: 1px solid #e5e7eb; border-radius: 0.5rem; padding: 1rem; margin-bottom: 1.5rem;">
            <h3 style="font-size: 0.875rem; font-weight: 600; color: #374151; margin-bottom: 0.75rem;" data-i18n="regex-flags">标志 (Flags)</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 1rem;">
                <label style="display: flex; align-items: center; gap: 0.375rem; cursor: pointer; font-size: 0.875rem;">
                    <input type="checkbox" id="regex-flag-g" value="g" style="margin: 0;">
                    <span><strong>g</strong> - <span data-i18n="flag-global">全局</span></span>
                </label>
                <label style="display: flex; align-items: center; gap: 0.375rem; cursor: pointer; font-size: 0.875rem;">
                    <input type="checkbox" id="regex-flag-i" value="i" style="margin: 0;">
                    <span><strong>i</strong> - <span data-i18n="flag-ignore">忽略大小写</span></span>
                </label>
                <label style="display: flex; align-items: center; gap: 0.375rem; cursor: pointer; font-size: 0.875rem;">
                    <input type="checkbox" id="regex-flag-m" value="m" style="margin: 0;">
                    <span><strong>m</strong> - <span data-i18n="flag-multiline">多行</span></span>
                </label>
                <label style="display: flex; align-items: center; gap: 0.375rem; cursor: pointer; font-size: 0.875rem;">
                    <input type="checkbox" id="regex-flag-s" value="s" style="margin: 0;">
                    <span><strong>s</strong> - <span data-i18n="flag-dotall">单行</span></span>
                </label>
                <label style="display: flex; align-items: center; gap: 0.375rem; cursor: pointer; font-size: 0.875rem;">
                    <input type="checkbox" id="regex-flag-u" value="u" style="margin: 0;">
                    <span><strong>u</strong> - <span data-i18n="flag-unicode">Unicode</span></span>
                </label>
                <label style="display: flex; align-items: center; gap: 0.375rem; cursor: pointer; font-size: 0.875rem;">
                    <input type="checkbox" id="regex-flag-y" value="y" style="margin: 0;">
                    <span><strong>y</strong> - <span data-i18n="flag-sticky">粘性</span></span>
                </label>
            </div>
        </div>

        <!-- 测试文本 -->
        <div style="margin-bottom: 1.5rem;">
            <label style="display: flex; align-items: center; justify-content: space-between; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 0.5rem;">
                <span data-i18n="test-text">测试文本</span>
                <div style="display: flex; gap: 0.5rem;">
                    <button id="regex-clear-text" class="btn-outline" style="font-size: 0.75rem; padding: 0.25rem 0.5rem;">
                        <i class="fa fa-trash" style="margin-right: 0.25rem;"></i>
                        <span data-i18n="clear">清空</span>
                    </button>
                    <button id="regex-load-example" class="btn-outline" style="font-size: 0.75rem; padding: 0.25rem 0.5rem;">
                        <i class="fa fa-file-text-o" style="margin-right: 0.25rem;"></i>
                        <span data-i18n="load-example">加载示例</span>
                    </button>
                </div>
            </label>
            <textarea id="regex-test-text" class="form-textarea" placeholder="请输入要测试的文本..." style="height: 200px; resize: vertical;"></textarea>
            <div style="margin-top: 0.5rem; font-size: 0.75rem; color: #6b7280;">
                <span id="regex-text-count">0</span> 字符 | <span id="regex-line-count">1</span> 行
            </div>
        </div>

        <!-- 匹配结果 -->
        <div id="regex-results" style="display: none;">
            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 1rem;">
                <h3 style="font-size: 1rem; font-weight: 600; color: #374151; margin: 0;" data-i18n="match-results">匹配结果</h3>
                <div style="display: flex; gap: 0.5rem; font-size: 0.875rem;">
                    <span style="color: var(--secondary);">
                        <i class="fa fa-check-circle" style="margin-right: 0.25rem;"></i>
                        <span id="regex-match-count">0</span> <span data-i18n="matches">个匹配</span>
                    </span>
                    <span style="color: var(--primary);">
                        <i class="fa fa-clock-o" style="margin-right: 0.25rem;"></i>
                        <span id="regex-match-time">0</span>ms
                    </span>
                </div>
            </div>

            <!-- 高亮显示 -->
            <div style="background-color: #f9fafb; border: 1px solid #e5e7eb; border-radius: 0.5rem; padding: 1rem; margin-bottom: 1rem;">
                <h4 style="font-size: 0.875rem; font-weight: 600; color: #374151; margin-bottom: 0.5rem;" data-i18n="highlighted-text">高亮显示</h4>
                <div id="regex-highlighted" style="font-family: monospace; font-size: 0.875rem; line-height: 1.6; white-space: pre-wrap; word-wrap: break-word; background-color: white; padding: 0.75rem; border-radius: 0.375rem; border: 1px solid #e5e7eb; min-height: 60px;"></div>
            </div>

            <!-- 匹配详情 -->
            <div id="regex-match-details" style="background-color: #f9fafb; border: 1px solid #e5e7eb; border-radius: 0.5rem; padding: 1rem;">
                <h4 style="font-size: 0.875rem; font-weight: 600; color: #374151; margin-bottom: 0.5rem;" data-i18n="match-details">匹配详情</h4>
                <div id="regex-matches-list" style="font-family: monospace; font-size: 0.75rem;">
                    <!-- 匹配详情将在这里显示 -->
                </div>
            </div>
        </div>

        <!-- 常用正则库 -->
        <div style="background-color: #eff6ff; border: 1px solid #bfdbfe; border-radius: 0.5rem; padding: 1rem; margin-bottom: 1.5rem;">
            <h3 style="font-size: 0.875rem; font-weight: 600; color: #1e40af; margin-bottom: 0.75rem;" data-i18n="common-regex">常用正则表达式</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 0.5rem;">
                <button class="regex-common-btn" data-regex="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$" data-desc="邮箱地址" style="padding: 0.5rem; background-color: white; border: 1px solid #bfdbfe; border-radius: 0.25rem; font-size: 0.75rem; cursor: pointer; text-align: left; color: #1e40af; transition: all 0.2s ease;">
                    <div style="font-weight: 500;">邮箱地址</div>
                    <div style="color: #6b7280; font-size: 0.625rem; margin-top: 0.125rem;">email@example.com</div>
                </button>
                <button class="regex-common-btn" data-regex="^1[3-9]\d{9}$" data-desc="手机号码" style="padding: 0.5rem; background-color: white; border: 1px solid #bfdbfe; border-radius: 0.25rem; font-size: 0.75rem; cursor: pointer; text-align: left; color: #1e40af; transition: all 0.2s ease;">
                    <div style="font-weight: 500;">手机号码</div>
                    <div style="color: #6b7280; font-size: 0.625rem; margin-top: 0.125rem;">13812345678</div>
                </button>
                <button class="regex-common-btn" data-regex="^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$" data-desc="URL地址" style="padding: 0.5rem; background-color: white; border: 1px solid #bfdbfe; border-radius: 0.25rem; font-size: 0.75rem; cursor: pointer; text-align: left; color: #1e40af; transition: all 0.2s ease;">
                    <div style="font-weight: 500;">URL地址</div>
                    <div style="color: #6b7280; font-size: 0.625rem; margin-top: 0.125rem;">https://example.com</div>
                </button>
                <button class="regex-common-btn" data-regex="^\d{4}-\d{2}-\d{2}$" data-desc="日期格式" style="padding: 0.5rem; background-color: white; border: 1px solid #bfdbfe; border-radius: 0.25rem; font-size: 0.75rem; cursor: pointer; text-align: left; color: #1e40af; transition: all 0.2s ease;">
                    <div style="font-weight: 500;">日期格式</div>
                    <div style="color: #6b7280; font-size: 0.625rem; margin-top: 0.125rem;">YYYY-MM-DD</div>
                </button>
                <button class="regex-common-btn" data-regex="^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$" data-desc="十六进制颜色" style="padding: 0.5rem; background-color: white; border: 1px solid #bfdbfe; border-radius: 0.25rem; font-size: 0.75rem; cursor: pointer; text-align: left; color: #1e40af; transition: all 0.2s ease;">
                    <div style="font-weight: 500;">十六进制颜色</div>
                    <div style="color: #6b7280; font-size: 0.625rem; margin-top: 0.125rem;">#RRGGBB</div>
                </button>
                <button class="regex-common-btn" data-regex="^\d+$" data-desc="纯数字" style="padding: 0.5rem; background-color: white; border: 1px solid #bfdbfe; border-radius: 0.25rem; font-size: 0.75rem; cursor: pointer; text-align: left; color: #1e40af; transition: all 0.2s ease;">
                    <div style="font-weight: 500;">纯数字</div>
                    <div style="color: #6b7280; font-size: 0.625rem; margin-top: 0.125rem;">0-9</div>
                </button>
            </div>
        </div>

        <!-- 操作按钮 -->
        <div style="display: flex; flex-wrap: wrap; gap: 0.75rem;">
            <button id="regex-test" class="btn-primary">
                <i class="fa fa-play" style="margin-right: 0.5rem;"></i>
                <span data-i18n="test-regex">测试正则</span>
            </button>
            <button id="regex-copy" class="btn-outline">
                <i class="fa fa-copy" style="margin-right: 0.5rem;"></i>
                <span data-i18n="copy-regex">复制正则</span>
            </button>
            <button id="regex-clear-all" class="btn-outline">
                <i class="fa fa-trash" style="margin-right: 0.5rem;"></i>
                <span data-i18n="clear-all">清空全部</span>
            </button>
        </div>
    </div>
</div>